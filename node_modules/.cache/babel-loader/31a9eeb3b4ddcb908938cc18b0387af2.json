{"remainingRequest":"D:\\working\\manage-system-ui\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\working\\manage-system-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\working\\manage-system-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\working\\manage-system-ui\\src\\components\\header\\systemHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\working\\manage-system-ui\\src\\components\\header\\systemHeader.vue","mtime":1560740419869},{"path":"D:\\working\\manage-system-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\working\\manage-system-ui\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\working\\manage-system-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\working\\manage-system-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import { mapGetters } from 'vuex';\nimport { storageFetch, sessionFetch, userInfoKey } from \"^/storage\";\nimport CookieUtils from \"^/cookies\";\nimport { token } from \"^/cookies\";\nimport { createDriver, openDriver } from '@/mixins';\nexport default {\n  mixins: [createDriver, openDriver],\n  data: function data() {\n    var _this = this;\n\n    var validatePassword = function validatePassword(rules, value, callback) {\n      if (value == '') {\n        callback(new Error(\"请再次输入密码\"));\n      } else if (value !== _this.form.newPassword) {\n        callback(new Error(\"两次输入的密码不一致\"));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      form: {\n        oldPassword: '',\n        newPassword: '',\n        checkPassword: ''\n      },\n      rules: {\n        oldPassword: [{\n          require: true,\n          message: '旧密码不能为空',\n          trigger: 'blur'\n        }],\n        newPassword: [{\n          required: true,\n          message: '新密码不能为空',\n          trigger: 'blur'\n        }],\n        checkPassword: [{\n          validator: validatePassword,\n          trigger: 'blur'\n        }]\n      },\n      changePSW: false,\n      personalInfo: false,\n      personalInfoObj: {},\n      userInfoForm: {\n        age: '年龄',\n        email: \"电子邮箱\",\n        nickname: \"姓名\",\n        searchTeamName: '科研团队名称',\n        teacherType: '老师类型',\n        userDepName: \"系别\",\n        userLevel: '职位级别',\n        userPhone: '手机号',\n        username: \"账号\"\n      },\n      // isCollapse: false,\n      navgation: [],\n      logo: require(\"@/assets/logo.png\"),\n      defaultActive: 'route1'\n    };\n  },\n  computed: {\n    routePath: function routePath() {\n      // console.log(this.$router);\n      var arr = this.$route.path.split(\"/\");\n      var _arr = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = arr[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n          if (item == 'home') _arr.push({\n            to: '/home',\n            name: item\n          });else _arr.push({\n            to: '/home/' + item,\n            name: item\n          });\n          if (_arr.length == 3) break;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return _arr;\n    },\n    // ...mapGetters(['userInfo', 'nowRoute','isCollapse', 'stepNum']),\n    userInfo: function userInfo() {\n      return this.$store.getters.userInfo;\n    },\n    nowRoute: function nowRoute() {\n      return this.$store.getters.nowRoute;\n    },\n    isCollapse: function isCollapse() {\n      return this.$store.getters.isCollapse;\n    },\n    stepNum: function stepNum() {\n      return this.$store.getters.stepNum;\n    },\n    isFristLogin: function isFristLogin() {\n      return this.$store.getters.isFristLogin;\n    },\n    iconName: function iconName() {\n      if (!this.isCollapse) {\n        return 'transiform_collapse';\n      } else return 'transiform';\n    }\n  },\n  methods: {\n    changePassword: function changePassword(name) {\n      this.$refs[name].validate(function (valid) {//修改密码\n      });\n    },\n    handleOpen: function handleOpen(key, keyPath) {// console.log(key, keyPath);\n    },\n    handleClose: function handleClose(key, keyPath) {// console.log(key, keyPath);\n    },\n    handleZoom: function handleZoom() {\n      this.$store.commit(\"SET_isCollapse\", !this.isCollapse);\n      this.$emit('zoom', this.isCollapse);\n    },\n    handleSelect: function handleSelect(index, indexPath) {\n      this.$store.commit('SET_nowRoute', index);\n      this.$emit('routeJump', index);\n\n      if (indexPath.length > 1) {\n        for (var i = 0; i < this.navgation[indexPath[0] - 1].children.length; i++) {\n          if (this.navgation[indexPath[0] - 1].children[i].routeName == index) {\n            this.$store.commit('PUSH_tabs', {\n              'name': index,\n              'title': this.navgation[indexPath[0] - 1].children[i].name\n            });\n            return;\n          }\n        }\n      } else {\n        for (var _i = 0; _i < this.navgation.length; _i++) {\n          if (this.navgation[_i].routeName == index) {\n            this.$store.commit('PUSH_tabs', {\n              'name': index,\n              'title': this.navgation[_i].name\n            });\n            return;\n          }\n        }\n      }\n    },\n    handelChangeDro: function handelChangeDro(command) {\n      switch (command) {\n        case 'PSW':\n          this.changePSW = true;\n          break;\n\n        case 'Info':\n          this.personalInfo = true;\n          this.handleGetPersonalInfo();\n          break;\n\n        case 'exit':\n          this.$store.commit('SET_tabs', []);\n          CookieUtils.remove(token);\n          this.$router.push('/');\n      }\n    },\n    handleRefresh: function handleRefresh() {\n      this.$emit('on-refresh');\n    },\n    handleGetPersonalInfo: function handleGetPersonalInfo() {//获取用户信息\n    },\n    handleOpenDriver: function handleOpenDriver() {\n      // console.log(this.nowRoute);\n      switch (this.nowRoute) {\n        case 'home':\n          this.driverHome(); // console.log('home');\n\n          break;\n\n        case undefined:\n          this.driverHome(); // console.log('home');\n\n          break;\n\n        case '0':\n          this.driverHome(); // console.log('home');\n\n          break;\n\n        case 'uploadAchievement':\n          this.handleUploadOpenDriver();\n          break;\n\n        default:\n          this.$Message.warning('该页面没有引导');\n      }\n    }\n  },\n  mounted: function mounted() {\n    if (this.userInfo == '') {\n      this.$store.commit(\"SET_userInfo\", storageFetch(userInfoKey));\n    }\n  }\n};",{"version":3,"sources":["systemHeader.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <header>\r\n    <div class=\"top\">\r\n      <div @click=\"handleZoom()\" class=\"option\">\r\n        <Icon :class=\"iconName\" type=\"md-menu\"/>\r\n      </div>\r\n\r\n      <div class=\"breadcrumbItem\">\r\n        <Breadcrumb>\r\n          <BreadcrumbItem :to=\"item.to\" v-for=\"(item,index) in routePath\" :key=\"`ROUTE_PATH_${index}`\"><span style=\"color: #fff\">{{item.name}}</span></BreadcrumbItem>\r\n        </Breadcrumb>\r\n      </div>\r\n\r\n      <div class=\"refresh\">\r\n        <Button icon=\"md-refresh\" type=\"text\" @click=\"handleRefresh\">刷新</Button>\r\n      </div>\r\n      <el-dropdown @command=\"handelChangeDro\" class=\"personal\">\r\n        <div class=\"avatar\">\r\n          <Icon type=\"md-person\" /><p>{{$store.state.home.userInfo.nickname}}</p>\r\n        </div>\r\n        <el-dropdown-menu slot=\"dropdown\">\r\n          <el-dropdown-item command=\"Info\">个人信息</el-dropdown-item>\r\n          <el-dropdown-item command=\"PSW\">修改密码</el-dropdown-item>\r\n          <el-dropdown-item command=\"exit\">退出</el-dropdown-item>\r\n        </el-dropdown-menu>\r\n      </el-dropdown>\r\n      <Button id=\"modal-step-button\" @click.prevent.stop=\"handleOpenDriver()\" class=\"button\" icon=\"md-help\" shape=\"circle\" style=\"margin:0 10px\" type=\"primary\" ></Button>\r\n    </div>\r\n\r\n  <Modal v-model=\"changePSW\" width=\"450\">\r\n    <p slot=\"header\" style=\"text-align:center\">\r\n    <span style=\"text-align:20px\">修改密码</span>\r\n    </p>\r\n    <div style=\"text-align:center;\">\r\n    <Form :model=\"form\" :rules=\"rules\" ref=\"formPassword\" label-position=\"right\" :label-width=\"100\">\r\n      <FormItem prop=\"oldPassword\" label=\"原密码\">\r\n      <Input type=\"password\" v-model.trim=\"form.oldPassword\" placeholder=\"请输入旧密码\"\r\n         style=\"width: 260px\"/>\r\n      </FormItem>\r\n      <FormItem prop=\"newPassword\" label=\"新密码\">\r\n      <Input type=\"password\" v-model.trim=\"form.newPassword\" placeholder=\"请输入新密码\"\r\n         style=\"width: 260px\"/>\r\n      </FormItem>\r\n      <FormItem prop=\"checkPassword\" label=\"确认密码\">\r\n      <Input type=\"password\" v-model.trim=\"form.checkPassword\" placeholder=\"请再次输入新密码\"\r\n         style=\"width: 260px\"/>\r\n      </FormItem>\r\n    </Form>\r\n    </div>\r\n    <div slot=\"footer\" style=\"text-align:center\">\r\n      <Button type=\"primary\" @click=\"changePassword('formPassword')\" style=\"width:60px\">修改</Button>\r\n      <Button type=\"default\" @click=\"changePSW=false\" style=\"width:60px\">取消</Button>\r\n    </div>\r\n  </Modal>\r\n\r\n  <Modal\r\n    v-model=\"personalInfo\"\r\n    title=\"个人信息\"\r\n    >\r\n    <div class=\"form\">\r\n      <div class=\"form-item\" v-for=\"(item,key) of userInfoForm\" :key=\"key\">\r\n        <p class=\"title\">{{item}}：</p>\r\n        <Input class=\"input\" disabled :value=\"personalInfoObj[key]\" placeholder=\"暂无\"></Input>\r\n      </div>\r\n    </div>\r\n  </Modal>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\n// import { mapGetters } from 'vuex';\r\nimport {storageFetch, sessionFetch, userInfoKey } from \"^/storage\"\r\nimport CookieUtils from \"^/cookies\";\r\nimport { token } from \"^/cookies\"\r\nimport { createDriver, openDriver } from '@/mixins'\r\nexport default {\r\n  mixins: [createDriver, openDriver],\r\n  data() {\r\n    const validatePassword = (rules, value, callback) => {\r\n    if (value == '') {\r\n      callback(new Error(\"请再次输入密码\"));\r\n      } else if (value !== this.form.newPassword) {\r\n        callback(new Error(\"两次输入的密码不一致\"))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    return {\r\n      form: {\r\n        oldPassword: '',\r\n        newPassword: '',\r\n        checkPassword: ''\r\n      },\r\n      rules: {\r\n        oldPassword: [\r\n        {require: true, message: '旧密码不能为空', trigger: 'blur'},\r\n        ],\r\n        newPassword: [\r\n        {required: true, message: '新密码不能为空', trigger: 'blur'}\r\n        ],\r\n        checkPassword: [\r\n        {validator: validatePassword, trigger: 'blur'}\r\n        ]\r\n      },\r\n      changePSW: false,\r\n      personalInfo: false,\r\n      personalInfoObj: {},\r\n      userInfoForm: {\r\n        age: '年龄',\r\n        email: \"电子邮箱\",\r\n        nickname: \"姓名\",\r\n        searchTeamName: '科研团队名称',\r\n        teacherType: '老师类型',\r\n        userDepName: \"系别\",\r\n        userLevel: '职位级别',\r\n        userPhone: '手机号',\r\n        username: \"账号\"\r\n      },\r\n      // isCollapse: false,\r\n      navgation: [],\r\n      logo: require(\"@/assets/logo.png\"),\r\n      defaultActive: 'route1'\r\n    }\r\n  },\r\n  computed: {\r\n    routePath() {\r\n      // console.log(this.$router);\r\n      var arr = this.$route.path.split(\"/\");\r\n      var _arr = []\r\n      for(let item of arr) {\r\n        if(item == 'home')\r\n          _arr.push({\r\n            to: '/home',\r\n            name: item\r\n          })\r\n        else\r\n          _arr.push({\r\n            to: '/home/'+item,\r\n            name: item\r\n          })\r\n          if(_arr.length == 3) break\r\n      }\r\n      return _arr;\r\n    },\r\n    // ...mapGetters(['userInfo', 'nowRoute','isCollapse', 'stepNum']),\r\n    userInfo() {\r\n      return this.$store.getters.userInfo\r\n    },\r\n    nowRoute() {\r\n      return this.$store.getters.nowRoute\r\n    },\r\n    isCollapse() {\r\n      return this.$store.getters.isCollapse\r\n    },\r\n    stepNum() {\r\n      return this.$store.getters.stepNum\r\n    },\r\n    isFristLogin() {\r\n      return this.$store.getters.isFristLogin\r\n    },\r\n    iconName() {\r\n      if(!this.isCollapse) {\r\n        return 'transiform_collapse'\r\n      }else return 'transiform'\r\n    }\r\n  },\r\n  methods: {\r\n    changePassword(name) {\r\n      this.$refs[name].validate((valid) => {\r\n        //修改密码\r\n      })\r\n    },\r\n    handleOpen(key, keyPath) {\r\n      // console.log(key, keyPath);\r\n    },\r\n    handleClose(key, keyPath) {\r\n      // console.log(key, keyPath);\r\n    },\r\n    handleZoom() {\r\n      this.$store.commit(\"SET_isCollapse\",!this.isCollapse)\r\n      this.$emit('zoom', this.isCollapse)\r\n    },\r\n    handleSelect(index, indexPath) {\r\n      this.$store.commit('SET_nowRoute', index)\r\n      this.$emit('routeJump', index)\r\n      if(indexPath.length>1) {\r\n        for(let i = 0; i<this.navgation[indexPath[0]-1].children.length; i++) {\r\n          if(this.navgation[indexPath[0]-1].children[i].routeName == index) {\r\n            this.$store.commit('PUSH_tabs', {\r\n              'name': index,\r\n              'title':this.navgation[indexPath[0]-1].children[i].name\r\n            })\r\n            return\r\n          }\r\n        }\r\n      }else {\r\n        for(let i = 0; i<this.navgation.length; i++) {\r\n          if(this.navgation[i].routeName == index) {\r\n            this.$store.commit('PUSH_tabs', {\r\n              'name': index,\r\n              'title':this.navgation[i].name\r\n            })\r\n            return\r\n          }\r\n        }\r\n      }\r\n    },\r\n    handelChangeDro(command) {\r\n      switch(command) {\r\n        case 'PSW':\r\n          this.changePSW = true\r\n          break\r\n        case 'Info':\r\n          this.personalInfo = true\r\n          this.handleGetPersonalInfo()\r\n          break;\r\n        case 'exit':\r\n          this.$store.commit('SET_tabs', [])\r\n          CookieUtils.remove(token)\r\n          this.$router.push('/')\r\n      }\r\n    },\r\n    handleRefresh() {\r\n      this.$emit('on-refresh')\r\n    },\r\n    handleGetPersonalInfo() {\r\n      //获取用户信息\r\n    },\r\n    handleOpenDriver() {\r\n      // console.log(this.nowRoute);\r\n      switch( this.nowRoute ) {\r\n        case 'home':\r\n          this.driverHome()\r\n          // console.log('home');\r\n          break\r\n        case undefined:\r\n          this.driverHome()\r\n          // console.log('home');\r\n          break\r\n        case '0':\r\n            this.driverHome()\r\n          // console.log('home');\r\n          break\r\n        case 'uploadAchievement':\r\n          this.handleUploadOpenDriver()\r\n          break\r\n        default: this.$Message.warning('该页面没有引导')\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    if(this.userInfo == '') {\r\n      this.$store.commit(\"SET_userInfo\",storageFetch(userInfoKey))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../styles/index\";\r\n$header-height: 50px;\r\n\r\nheader{\r\n  .button{\r\n    &:hover{\r\n      position: relative;\r\n      &::after{\r\n        background: #fff;\r\n        @include flex;\r\n        width: 60px;\r\n        height: 30px;\r\n        border-radius: 5px;\r\n        box-shadow: 0 0 5px #666;\r\n        position: absolute;\r\n        color: #000;\r\n        content: \"打开引导\";\r\n        font-size: 12px;\r\n        top: 25px;\r\n        left: -55px;\r\n      }\r\n    }\r\n  }\r\n  position: relative;\r\n  width: 100%;\r\n  height: 50px;\r\n  background: $primary-color;\r\n  // @include flex;\r\n  font-size: $font-size-base;\r\n  color: $title-color\r\n}\r\n.top{\r\n  width: 100%;\r\n  position: absolute;\r\n  height: 50px;\r\n  background: $primary-color;\r\n  color: #ffffff;\r\n  @include flex;\r\n  justify-content: flex-start;\r\n  .option{\r\n    cursor: pointer;\r\n    @include flex;\r\n    width: 80px;\r\n    font-size: 25px;\r\n    .transiform_collapse,\r\n    .transiform{\r\n      transition: 0.2s\r\n    }\r\n    .transiform{\r\n      transform: rotateZ(90deg);\r\n    }\r\n  }\r\n  .refresh{\r\n    button{\r\n      color: #fff;\r\n      &:hover{\r\n        background: $primary-color;\r\n        color: #dddddd;\r\n      }\r\n    }\r\n    margin-left: $base-margin;\r\n    font-size: 15px\r\n  }\r\n  .personal{\r\n    margin-left: auto;\r\n    margin-right: $base-margin*1.5;\r\n    .avatar{\r\n      font-size: 20px;\r\n      cursor: pointer;\r\n      @include flex;\r\n      color: #fff\r\n      // p{\r\n      //   font-size: 25px\r\n      // }\r\n    }\r\n  }\r\n}\r\n.form{\r\n  @include flex;\r\n  flex-direction: column;\r\n  &-item{\r\n    margin: $base-margin*0.5 auto;\r\n    @include flex;\r\n    width: 100%;\r\n    p{\r\n      width: 120px\r\n    }\r\n    .input{\r\n      flex: 1\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/header"}]}