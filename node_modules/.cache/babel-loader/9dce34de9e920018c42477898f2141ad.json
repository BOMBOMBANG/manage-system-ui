{"remainingRequest":"D:\\working\\manage-system-ui\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\working\\manage-system-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\working\\manage-system-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\working\\manage-system-ui\\src\\components\\tabs\\systemTabs.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\working\\manage-system-ui\\src\\components\\tabs\\systemTabs.vue","mtime":1560737482230},{"path":"D:\\working\\manage-system-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\working\\manage-system-ui\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\working\\manage-system-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\working\\manage-system-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { sessionFetch, sessionSave, tabsKey } from \"^/storage\";\nexport default {\n  data: function data() {\n    return {\n      editableTabs2: [{\n        title: 'label 1',\n        name: 'route path 1'\n      }, {\n        title: 'label 2',\n        name: 'route path 2'\n      }],\n      tabIndex: 2\n    };\n  },\n  methods: {\n    removeTab: function removeTab(targetName) {\n      var _this = this;\n\n      var tabs = this.$store.state.home.tabs;\n      var activeName = this.$store.state.home.nowRoute;\n\n      if (activeName === targetName) {\n        if (tabs.length > 1) {\n          tabs.forEach(function (tab, index) {\n            if (tab.name === targetName) {\n              if (index !== 0) {\n                _this.$store.commit('SET_nowRoute', tabs[index - 1].name);\n\n                _this.$router.push({\n                  name: _this.$store.getters.nowRoute\n                });\n              } else {\n                _this.$store.commit('SET_nowRoute', tabs[index + 1].name);\n\n                _this.$router.push({\n                  name: _this.$store.getters.nowRoute\n                });\n              }\n            }\n          });\n        } else {\n          this.$store.commit('SET_nowRoute', 'home');\n          this.$router.push('/home');\n        }\n      }\n\n      this.$store.commit('SET_tabs', this.$store.state.home.tabs.filter(function (tab) {\n        return tab.name !== targetName;\n      }));\n    },\n    handleJump: function handleJump(tab) {\n      this.$emit('routeJump', tab.name);\n    }\n  },\n  computed: {\n    primary: function primary() {\n      if (!this.$store.state.home.nowRoute || this.$store.state.home.nowRoute == 0) return 'primary';else return '';\n    }\n  },\n  mounted: function mounted() {\n    if (sessionFetch(tabsKey)) {\n      this.$store.commit(\"SET_tabs\", sessionFetch(tabsKey));\n    }\n  }\n};",{"version":3,"sources":["systemTabs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAuBA,SAAA,YAAA,EAAA,WAAA,EAAA,OAAA,QAAA,WAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,aAAA,EAAA,CAAA;AACA,QAAA,KAAA,EAAA,SADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA,EAGA;AACA,QAAA,KAAA,EAAA,SADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAHA,CADA;AAQA,MAAA,QAAA,EAAA;AARA,KAAA;AAUA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,UADA,EACA;AAAA;;AACA,UAAA,IAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA,UAAA,UAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,QAAA;;AACA,UAAA,UAAA,KAAA,UAAA,EAAA;AACA,YAAA,IAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA,KAAA,EAAA;AACA,gBAAA,GAAA,CAAA,IAAA,KAAA,UAAA,EAAA;AACA,kBAAA,KAAA,KAAA,CAAA,EAAA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA,IAAA,CAAA,KAAA,GAAA,CAAA,CAAA,CAAA,IAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA;AAAA,iBAAA;AACA,eAHA,MAGA;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA,IAAA,CAAA,KAAA,GAAA,CAAA,CAAA,CAAA,IAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,kBAAA,IAAA,EAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA;AAAA,iBAAA;AACA;AACA;AACA,WAVA;AAWA,SAZA,MAYA;AACA,eAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA,MAAA;AACA,eAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA;;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,UAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,UAAA,GAAA;AAAA,eAAA,GAAA,CAAA,IAAA,KAAA,UAAA;AAAA,OAAA,CAAA;AACA,KAvBA;AAwBA,IAAA,UAxBA,sBAwBA,GAxBA,EAwBA;AACA,WAAA,KAAA,CAAA,WAAA,EAAA,GAAA,CAAA,IAAA;AACA;AA1BA,GAbA;AAyCA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,UAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,QAAA,IAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,QAAA,IAAA,CAAA,EAAA,OAAA,SAAA,CAAA,KACA,OAAA,EAAA;AACA;AAJA,GAzCA;AA+CA,EAAA,OA/CA,qBA+CA;AACA,QAAA,YAAA,CAAA,OAAA,CAAA,EAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,UAAA,EAAA,YAAA,CAAA,OAAA,CAAA;AACA;AACA;AAnDA,CAAA","sourcesContent":["<template>\r\n<div>\r\n  <div class=\"my-tabs\">\r\n    <Tag @on-change=\"$router.push({name: 'home'})\" checkable class=\"home-tag\" type=\"dot\" :color=\"primary\">首页</Tag>\r\n    <el-tabs v-model=\"$store.state.home.nowRoute\" type=\"card\" closable\r\n      style=\"width:90%\"\r\n      @tab-remove=\"removeTab\"\r\n      @tab-click=\"handleJump\"\r\n      >\r\n      <el-tab-pane\r\n        v-for=\"(item, index) in $store.state.home.tabs\"\r\n        :key=\"`item.name_${index}`\"\r\n        :label=\"item.title\"\r\n        :name=\"item.name\"\r\n        >\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n  <slot name=\"content\" ></slot>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { sessionFetch, sessionSave, tabsKey } from \"^/storage\"\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        editableTabs2: [{\r\n          title: 'label 1',\r\n          name: 'route path 1'\r\n        }, {\r\n          title: 'label 2',\r\n          name: 'route path 2'\r\n        }],\r\n        tabIndex: 2\r\n      }\r\n    },\r\n    methods: {\r\n      removeTab(targetName) {\r\n        let tabs = this.$store.state.home.tabs\r\n        let activeName = this.$store.state.home.nowRoute;\r\n        if (activeName === targetName) {\r\n          if(tabs.length>1){\r\n            tabs.forEach((tab, index) => {\r\n              if (tab.name === targetName) {\r\n                if(index!==0){\r\n                  this.$store.commit('SET_nowRoute', tabs[index-1].name)\r\n                  this.$router.push({name: this.$store.getters.nowRoute})\r\n                }else {\r\n                  this.$store.commit('SET_nowRoute', tabs[index+1].name)\r\n                  this.$router.push({name: this.$store.getters.nowRoute})\r\n                }\r\n              }\r\n            });\r\n          }else {\r\n            this.$store.commit('SET_nowRoute', 'home')\r\n            this.$router.push('/home')\r\n          }\r\n        }\r\n        this.$store.commit('SET_tabs', this.$store.state.home.tabs.filter(tab => tab.name !== targetName));\r\n      },\r\n      handleJump(tab) {\r\n        this.$emit('routeJump', tab.name)\r\n      }\r\n    },\r\n    computed: {\r\n      primary() {\r\n        if(!this.$store.state.home.nowRoute || this.$store.state.home.nowRoute==0) return 'primary'\r\n        else return ''\r\n      }\r\n    },\r\n    mounted() {\r\n      if(sessionFetch(tabsKey)) {\r\n        this.$store.commit(\"SET_tabs\", sessionFetch(tabsKey))\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.my-tabs{\r\n  display: flex;\r\n  position: relative;\r\n  height: 41px;white-space:nowrap;\r\n  border-bottom: 1px solid #ddd;\r\n  overflow-y: hidden;\r\n}\r\n.home-tag{\r\n  height: 100%;\r\n  margin-left: 3px;\r\n  // margin-top: 4px\r\n}\r\n</style>"],"sourceRoot":"src/components/tabs"}]}