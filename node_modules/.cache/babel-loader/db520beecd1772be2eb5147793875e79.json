{"remainingRequest":"D:\\working\\manage-system-ui\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\working\\manage-system-ui\\src\\store\\modules\\home.js","dependencies":[{"path":"D:\\working\\manage-system-ui\\src\\store\\modules\\home.js","mtime":1560738861356},{"path":"D:\\working\\manage-system-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\working\\manage-system-ui\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport CookieUtils from \"../../utils/cookies\";\nimport { token, isFir } from \"../../utils/cookies\";\nimport { storageSave, sessionSave, userInfoKey } from '^/storage';\nvar state = {\n  isCollapse: false,\n  userInfo: {\n    indexes: ['1', '2']\n  },\n  hostname: \"\",\n  access_token: \"\",\n  refresh_token: \"\",\n  socketData: '',\n  tabs: [],\n  nowRoute: '',\n  isFristLogin: false // console.log(process.env.NODE_ENV);\n\n};\n\nif (process.env.NODE_ENV === 'production' || process.env.NODE_ENV === 'prod') {\n  // 正式环境地址\n  state.hostname = '';\n} else if (process.env.NODE_ENV === 'test') {\n  // 测试服地址\n  state.hostname = '';\n} else {\n  // 开发地址\n  state.hostname = '';\n}\n\nvar mutations = {\n  SET_access_token: function SET_access_token(state, payload) {\n    state.access_token = payload.value;\n    CookieUtils.set({\n      key: token,\n      value: payload.value,\n      expires: 365,\n      success: function success() {// console.log(CookieUtils.get(\"access_token\") + \"测试\");\n      }\n    });\n\n    if (CookieUtils.get(isFir) || CookieUtils.get(isFir) === 'true') {\n      CookieUtils.set({\n        key: isFir,\n        value: false,\n        expires: 365\n      });\n      state.isFristLogin = false;\n    } else {\n      CookieUtils.set({\n        key: isFir,\n        value: true,\n        expires: 365\n      });\n      state.isFristLogin = true;\n    }\n  },\n  SET_refresh_token: function SET_refresh_token(state, refresh_token) {\n    state.refresh_token = refresh_token;\n  },\n  PUSH_tabs: function PUSH_tabs(state, tab) {\n    // debugger\n    for (var i = 0; i < state.tabs.length; i++) {\n      if (state.tabs[i].name == tab.name) {\n        if (tab.params) {\n          state.tabs[i].params = tab.params;\n        }\n\n        return null;\n      }\n    }\n\n    state.tabs.push(tab);\n  },\n  SET_tabs: function SET_tabs(state, tabs) {\n    state.tabs = tabs;\n  },\n  SET_nowRoute: function SET_nowRoute(state, nowRoute) {\n    state.nowRoute = nowRoute;\n  },\n  SET_userInfo: function SET_userInfo(state, userInfo) {\n    state.userInfo = userInfo;\n    storageSave(userInfoKey, userInfo);\n  },\n  SET_isCollapse: function SET_isCollapse(state, isCollapse) {\n    state.isCollapse = isCollapse;\n  },\n  SET_socketData: function SET_socketData(state, socketData) {\n    state.socketData = socketData;\n  }\n};\nvar getters = {\n  hostname: function hostname(state) {\n    return state.hostname;\n  },\n  access_token: function access_token(state) {\n    if (!state.access_token) {\n      state.access_token = CookieUtils.get(\"access_token\");\n      return state.access_token;\n    } else {\n      return state.access_token;\n    }\n  },\n  refresh_token: function refresh_token(state) {\n    if (validateNull(state.refresh_token)) {\n      return CookieUtils.get(\"refresh_token\");\n    } else {\n      return state.refresh_token;\n    }\n  },\n  userInfo: function userInfo(state) {\n    return state.userInfo;\n  },\n  tabs: function tabs(state) {\n    return state.tabs;\n  },\n  nowRoute: function nowRoute(state) {\n    return state.nowRoute;\n  },\n  isCollapse: function isCollapse(state) {\n    return state.isCollapse;\n  },\n  socketData: function socketData(state) {\n    return state.socketData;\n  },\n  isFristLogin: function isFristLogin(state) {\n    return state.isFristLogin;\n  }\n};\nexport default {\n  state: state,\n  mutations: mutations,\n  getters: getters\n};",{"version":3,"sources":["D:\\working\\manage-system-ui\\src\\store\\modules\\home.js"],"names":["CookieUtils","token","isFir","storageSave","sessionSave","userInfoKey","state","isCollapse","userInfo","indexes","hostname","access_token","refresh_token","socketData","tabs","nowRoute","isFristLogin","process","env","NODE_ENV","mutations","SET_access_token","payload","value","set","key","expires","success","get","SET_refresh_token","PUSH_tabs","tab","i","length","name","params","push","SET_tabs","SET_nowRoute","SET_userInfo","SET_isCollapse","SET_socketData","getters","validateNull"],"mappings":"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","sourcesContent":["import CookieUtils from '../../utils/cookies'\r\nimport { token, isFir} from '../../utils/cookies'\r\nimport {storageSave, sessionSave, userInfoKey} from '^/storage'\r\nconst state = {\r\n  isCollapse: false,\r\n  userInfo: {\r\n    indexes: ['1','2']\r\n  },\r\n  hostname: \"\",\r\n  access_token: \"\",\r\n  refresh_token: \"\",\r\n  socketData: '',\r\n  tabs: [],\r\n  nowRoute: '',\r\n  isFristLogin: false\r\n}\r\n// console.log(process.env.NODE_ENV);\r\nif( process.env.NODE_ENV === 'production' || process.env.NODE_ENV === 'prod') {\r\n// 正式环境地址\r\n  state.hostname = ''\r\n}else if (process.env.NODE_ENV === 'test'){\r\n// 测试服地址\r\n  state.hostname = ''\r\n} else{\r\n// 开发地址\r\n  state.hostname = ''\r\n}\r\nconst mutations = {\r\n  SET_access_token: (state, payload) => {\r\n    state.access_token = payload.value;\r\n    CookieUtils.set({\r\n      key: token,\r\n      value: payload.value,\r\n      expires: 365,\r\n      success: () => {\r\n        // console.log(CookieUtils.get(\"access_token\") + \"测试\");\r\n      }\r\n    });\r\n    \r\n    if(CookieUtils.get(isFir) || CookieUtils.get(isFir) === 'true') {\r\n      CookieUtils.set({\r\n        key: isFir,\r\n        value: false,\r\n        expires: 365\r\n      })\r\n      state.isFristLogin = false\r\n    }else{\r\n      CookieUtils.set({\r\n        key: isFir,\r\n        value: true,\r\n        expires: 365\r\n      })\r\n      state.isFristLogin = true\r\n    }\r\n  },\r\n  SET_refresh_token: (state, refresh_token) => {\r\n    state.refresh_token = refresh_token;\r\n  },\r\n  PUSH_tabs: (state, tab) => {\r\n    // debugger\r\n    for(let i = 0; i < state.tabs.length; i++){\r\n      if(state.tabs[i].name == tab.name) {\r\n        if(tab.params) {\r\n          state.tabs[i].params = tab.params\r\n        }\r\n        return null\r\n      }\r\n    }\r\n    state.tabs.push(tab)\r\n  },\r\n  SET_tabs: (state, tabs) => {\r\n    state.tabs = tabs\r\n  },\r\n  SET_nowRoute: (state, nowRoute) => {\r\n    state.nowRoute = nowRoute\r\n  },\r\n  SET_userInfo: (state, userInfo) => {\r\n    state.userInfo = userInfo;\r\n    storageSave(userInfoKey, userInfo)\r\n  },\r\n  SET_isCollapse: (state, isCollapse) => {\r\n    state.isCollapse = isCollapse\r\n  },\r\n  SET_socketData: (state, socketData) => {\r\n    state.socketData = socketData\r\n  }\r\n}\r\n\r\nconst getters = {\r\n  hostname: (state) => {\r\n    return state.hostname\r\n  },\r\n  access_token: (state) => {\r\n    if (!state.access_token) {\r\n      state.access_token = CookieUtils.get(\"access_token\");\r\n      return state.access_token;\r\n    } else {\r\n      return state.access_token;\r\n    }\r\n  },\r\n  refresh_token: (state) => {\r\n    if (validateNull(state.refresh_token)) {\r\n      return CookieUtils.get(\"refresh_token\");\r\n    } else {\r\n      return state.refresh_token;\r\n    }\r\n  },\r\n  userInfo: (state) => {\r\n    return state.userInfo\r\n  },\r\n  tabs: (state) => {\r\n    return state.tabs\r\n  },\r\n  nowRoute: (state) => {\r\n    return state.nowRoute\r\n  },\r\n  isCollapse: (state) => {\r\n    return state.isCollapse\r\n  },\r\n  socketData: (state) => {\r\n    return state.socketData\r\n  },\r\n  isFristLogin: (state) => {\r\n    return state.isFristLogin\r\n  }\r\n}\r\n\r\nexport default {\r\n  state,\r\n  mutations,\r\n  getters\r\n}\r\n"]}]}